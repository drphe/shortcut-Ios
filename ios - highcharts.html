<html>

<head>
    <meta charset="UTF-8">
    <script src="highcharts.js"></script>
    <title>Data </title>
</head>

<body>
    <div class="container">
        <div id="myChart" height="" orientation="portrait"></div>
    </div>
    <script>
        if (typeof Highcharts === "undefined") {
            throw new Error("Highcharts.js is not defined");
        }
        // chèn dữ liệu ở đây
        var widata = {
            name: "Tăng trưởng GDP của Việt Nam theo quý",
            series: [{
                unit: "tỷ VNĐ",
                name: "GPD theo giá hiện hành",
                type: "bar",
                data: [
                    [16935012e5, 2540587.54],
                    [16855524e5, 2445616.67],
                    [16776036e5, 2281838.88],
                    [16698276e5, 2669130.97],
                    [16619652e5, 2378300.35],
                    [16540164e5, 2312996.21],
                    [16460676e5, 2152899.51],
                    [16382916e5, 2414696.8],
                    [16304292e5, 2008238.84],
                    [16224804e5, 2064327.67],
                    [16145316e5, 1992403.19],
                    [16067556e5, 2224390.6],
                    [15988932e5, 2071653.82],
                    [15909444e5, 1890334.15],
                    [15829956e5, 1858007.15],
                    [15751332e5, 2095802.65],
                    [15672708e5, 1984826.58],
                    [1559322e6, 1856620.23],
                    [15513732e5, 1769950.83],
                    [15435972e5, 1893722.16],
                    [15357348e5, 1802862.77],
                    [1527786e6, 1695364.32],
                    [15198372e5, 1617092.89],
                    [15120612e5, 1697014.34],
                    [15041988e5, 1620986.46],
                    [149625e7, 1523935.05],
                    [14883012e5, 1451968.71],
                    [14805252e5, 1473270.14],
                    [14726628e5, 1461530.54],
                    [1464714e6, 1380307.2],
                    [14567652e5, 1324293.13],
                    [14489028e5, 1329572.77],
                    [14410404e5, 1334518.32],
                    [14330916e5, 1279531.43],
                    [14251428e5, 1247701.21],
                    [14173668e5, 1264072.05],
                    [14095044e5, 1267836.86],
                    [14015556e5, 1218105.89],
                    [13936068e5, 1187016.88],
                    [13858308e5, 1155690.22],
                    [13779684e5, 1142946.85],
                    [13700196e5, 1102228.27],
                    [13620708e5, 1072790.27],
                    [13542948e5, 1054569.13],
                    [13464324e5, 1011972.23],
                    [13384836e5, 1010948.12],
                    [13305348e5, 996272.81],
                    [13226724e5, 921567.54],
                    [131481e7, 911790.34],
                    [13068612e5, 880021.32],
                    [12989124e5, 826502.12],
                    [12911364e5, 704195.43],
                    [1283274e6, 696123.48],
                    [12753252e5, 667213.44],
                    [12673764e5, 672310.83]
                ]
            }, {
                unit: "tỷ VNĐ",
                name: "GPD theo giá so sánh",
                type: "bar",
                data: [
                    [16935012e5, 1450322.45],
                    [16855524e5, 1406292.82],
                    [16776036e5, 1320198.97],
                    [16698276e5, 1538951.34],
                    [16619652e5, 1376896.13],
                    [16540164e5, 1351540.57],
                    [16460676e5, 1278327.89],
                    [16382916e5, 1452949.84],
                    [16304292e5, 1210836.74],
                    [16224804e5, 1253415.87],
                    [16145316e5, 1216868.91],
                    [16067556e5, 1381539.61],
                    [15988932e5, 1288550.03],
                    [15909444e5, 1175981.42],
                    [15829956e5, 1159772.54],
                    [15751332e5, 1319551.47],
                    [15672708e5, 1251063.64],
                    [1559322e6, 1172040.93],
                    [15513732e5, 1123659.56],
                    [15435972e5, 1227228.26],
                    [15357348e5, 1162450.97],
                    [1527786e6, 1093745.43],
                    [15198372e5, 1049314.74],
                    [15120612e5, 1138649.69],
                    [15041988e5, 1084418.71],
                    [149625e7, 1021258.35],
                    [14883012e5, 973548.01],
                    [14805252e5, 1052531.04],
                    [14726628e5, 1008424.67],
                    [1464714e6, 957512.97],
                    [14567652e5, 925675],
                    [14489028e5, 979132.69],
                    [14410404e5, 943204.28],
                    [14330916e5, 897014.16],
                    [14251428e5, 877474.58],
                    [14173668e5, 911850.57],
                    [14095044e5, 880165.79],
                    [14015556e5, 837481.82],
                    [13936068e5, 825893.95],
                    [13858308e5, 849876.91],
                    [13779684e5, 825765.25],
                    [13700196e5, 788672.28],
                    [13620708e5, 782555.78],
                    [13542948e5, 798938],
                    [13464324e5, 781191.36],
                    [13384836e5, 748353.46],
                    [13305348e5, 747559.09],
                    [13226724e5, 753784.16],
                    [131481e7, 740478.71],
                    [13068612e5, 708905.81],
                    [12989124e5, 712385.26],
                    [12911364e5, 704195.43],
                    [1283274e6, 696123.48],
                    [12753252e5, 667213.44],
                    [12673764e5, 672310.83]
                ]
            }, {
                unit: "%",
                name: "Tăng trưởng GDP",
                type: "line",
                data: [
                    [16935012e5, 5.33],
                    [16855524e5, 4.05],
                    [16776036e5, 3.28],
                    [16698276e5, 5.92],
                    [16619652e5, 13.71],
                    [16540164e5, 7.83],
                    [16460676e5, 5.05],
                    [16382916e5, 5.17],
                    [16304292e5, -6.03],
                    [16224804e5, 6.58],
                    [16145316e5, 4.92],
                    [16067556e5, 4.7],
                    [15988932e5, 3],
                    [15909444e5, .34],
                    [15829956e5, 3.21],
                    [15751332e5, 7.52],
                    [15672708e5, 7.62],
                    [1559322e6, 7.16],
                    [15513732e5, 7.09],
                    [15435972e5, 7.78],
                    [15357348e5, 7.2],
                    [1527786e6, 7.1],
                    [15198372e5, 7.78],
                    [15120612e5, 8.18],
                    [15041988e5, 7.54],
                    [149625e7, 6.66],
                    [14883012e5, 5.17],
                    [14805252e5, 7.5],
                    [14726628e5, 6.91],
                    [1464714e6, 6.74],
                    [14567652e5, 5.49],
                    [14489028e5, 7.38],
                    [14410404e5, 7.16],
                    [14330916e5, 7.11],
                    [14251428e5, 6.25],
                    [14173668e5, 7.29],
                    [14095044e5, 6.59],
                    [14015556e5, 6.19],
                    [13936068e5, 5.54],
                    [13858308e5, 6.38],
                    [13779684e5, 5.71],
                    [13700196e5, 5.39],
                    [13620708e5, 4.68],
                    [13542948e5, 5.99],
                    [13464324e5, 5.5],
                    [13384836e5, 5.56],
                    [13305348e5, 4.94],
                    [13226724e5, 7.04],
                    [131481e7, 6.37],
                    [13068612e5, 6.25],
                    [12989124e5, 5.96],
                    [12911364e5, null],
                    [1283274e6, null],
                    [12753252e5, null],
                    [12673764e5, null]
                ]
            }]
        };

        const dx = function(t) {
            var e = new Date(t);
            return e.getDate() + "/" + (e.getMonth() + 1) + "/" + e.getFullYear()
        };

        var data = widata;
        var arrayString = [],
            i = 0,
            date = [],
            arrayFinal = [],
            typechart, txt,
            seriesName, ysix = [];
        let y1 = {
                title: {
                    text: widata.series[0].unit
                },
                labels: {
                    style: {
                        color: Highcharts.getOptions().colors[0]
                    }
                }
            },
            y2 = {
                title: {
                    text: ''
                },
                labels: {
                    style: {
                        color: Highcharts.getOptions().colors[0]
                    }
                },
                opposite: 1
            },
            typeChart = widata.series[0].type,
            numY = 0;
        widata.series.forEach(s => {
            if (typeChart !== s.type) numY = 1, y2.title.text = s.unit

            arrayFinal.push({
                name: s.name,
                data: s.data.sort(),
                fillMissingValues: {
                    type: "previous"
                },
                connectNulls: true,
                type: (s.type == 'bar' ? 'column' : 'spline'),
                yAxis: typeChart == s.type ? 0 : 1
            });
        });

        var summaries = 'Ngày update: ' + dx(widata.series[0].data[widata.series[0].data.length - 1][0]) + ' <br/>';
        widata.series.forEach(s => {
            summaries += s.name + ' : ' + (s.data[s.data.length - 1][1] || s.data[1][1]) + ' (' + s.unit + ')<br/>';
        })
        var config = {
            chart: {
                zoomType: "x",
		height: "500",
                type: "spline",
                style: {
                    fontSize: "16px",
                },
                chart: {},
                resetZoomButton: {
                    position: {
                        x: 0,
                        y: -40
                    },
                    theme: {
                        fill: "white",
                        style: {
                            fontSize: "12px"
                        },
                        stroke: "silver",
                        r: 0,
                        states: {
                            hover: {
                                fill: "#41739D",
                                style: {
                                    color: "white"
                                }
                            }
                        }
                    }
                }
            },
            xAxis: {
                crosshair: 1,
                type: "datetime",
                labels: {
                    formatter: function() {
                        return Highcharts.dateFormat("%e/%m/%Y", this.value)
                    }
                }
            },
            time: {
                useUTC: !1,
                timezone: "Asia/Ho_Chi_Minh"
            },
            title: {
                text: "Tiêu đề ở đây",
                floating: !1,
                align: "center",
                style: {
                    fontSize: "14px",
                    display: "block"
                }
            },
            subtitle: {
                text: summaries,
                align: "left"
            },
            yAxis: numY ? [y1, y2] : [y1],
            tooltip: {
                headerFormat: "<b>{point.x:%d/%m/%Y}</b><br>",
                pointFormat: "{series.name}: {point.y:.2f}<br>",
                footerFormat: "</table>",
                shared: !0,
                useHTML: !0
            },
            credits: {
                enabled: 0,
            },
            exporting: {
                enabled: 1
            },
            series: arrayFinal,
            plotOptions: {
                column: {
                    stacking: false
                },
                line: {
                    dataLabels: {
                        enabled: 0
                    }
                }
            }
        };

        //ve bieu do
        Highcharts.chart('myChart', config);
    </script>
</body>

</html>